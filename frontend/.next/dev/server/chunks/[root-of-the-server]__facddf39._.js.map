{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/adarsh/Documents/carbonflow/frontend/app/api/forecast/route.ts"],"sourcesContent":["import { ForecastData } from '@/types/orchestrator'\n\nconst API_SERVER_URL = process.env.NEXT_PUBLIC_API_SERVER_URL || 'http://localhost:8000'\n\nexport async function GET() {\n  try {\n    // Try to fetch from Python API server\n    const response = await fetch(`${API_SERVER_URL}/api/forecast/latest`, {\n      next: { revalidate: 60 } // Revalidate every 60 seconds\n    })\n\n    if (response.ok) {\n      const forecast: ForecastData = await response.json()\n      return Response.json(forecast, {\n        headers: {\n          'Cache-Control': 'public, s-maxage=60, stale-while-revalidate=120'\n        }\n      })\n    }\n\n    // If API server returns 404, return null or fallback\n    if (response.status === 404) {\n      return Response.json(\n        { error: 'No forecast data available' },\n        { status: 404 }\n      )\n    }\n\n    // For other errors, fall through to fallback\n    throw new Error(`API server returned ${response.status}`)\n  } catch (error) {\n    console.error('Failed to fetch forecast from API server:', error)\n    \n    // Fallback: Return error response\n    return Response.json(\n      { \n        error: 'Forecast data unavailable',\n        message: error instanceof Error ? error.message : 'Unknown error'\n      },\n      { status: 503 }\n    )\n  }\n}\n"],"names":[],"mappings":";;;;AAEA,MAAM,iBAAiB,QAAQ,GAAG,CAAC,0BAA0B,IAAI;AAE1D,eAAe;IACpB,IAAI;QACF,sCAAsC;QACtC,MAAM,WAAW,MAAM,MAAM,GAAG,eAAe,oBAAoB,CAAC,EAAE;YACpE,MAAM;gBAAE,YAAY;YAAG,EAAE,8BAA8B;QACzD;QAEA,IAAI,SAAS,EAAE,EAAE;YACf,MAAM,WAAyB,MAAM,SAAS,IAAI;YAClD,OAAO,SAAS,IAAI,CAAC,UAAU;gBAC7B,SAAS;oBACP,iBAAiB;gBACnB;YACF;QACF;QAEA,qDAAqD;QACrD,IAAI,SAAS,MAAM,KAAK,KAAK;YAC3B,OAAO,SAAS,IAAI,CAClB;gBAAE,OAAO;YAA6B,GACtC;gBAAE,QAAQ;YAAI;QAElB;QAEA,6CAA6C;QAC7C,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;IAC1D,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6CAA6C;QAE3D,kCAAkC;QAClC,OAAO,SAAS,IAAI,CAClB;YACE,OAAO;YACP,SAAS,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACpD,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}
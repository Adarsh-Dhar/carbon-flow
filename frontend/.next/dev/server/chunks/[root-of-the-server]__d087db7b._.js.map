{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///Users/adarsh/Documents/carbonflow/frontend/app/api/respiro/chat/route.ts"],"sourcesContent":["import { createGoogleGenerativeAI } from \"@ai-sdk/google\"\nimport { convertToModelMessages, streamText } from \"ai\"\n\nconst gemini = createGoogleGenerativeAI({\n  apiKey: process.env.GEMINI_API_KEY ?? \"\",\n})\n\nexport async function POST(req: Request) {\n  const { messages } = await req.json()\n  const modelMessages = convertToModelMessages(messages ?? [])\n\n  if (!process.env.GEMINI_API_KEY) {\n    return new Response(\n      JSON.stringify({\n        error: \"GEMINI_API_KEY missing. Set it to enable live agent streaming.\",\n      }),\n      {\n        status: 400,\n        headers: { \"content-type\": \"application/json\" },\n      },\n    )\n  }\n\n  const result = streamText({\n    model: gemini(process.env.GEMINI_MODEL ?? process.env.OPENAI_MODEL ?? \"models/gemini-2.5-flash\"),\n    system:\n      \"You are the Respiro Negotiator and Orchestrator agent. You collaborate with Sentry and Clinical agents to move high-risk calendar events, coordinate with families, and explain every action with calm authority.\",\n    messages: modelMessages,\n    maxOutputTokens: 200,\n  })\n\n  return result.toUIMessageStreamResponse()\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAA,6QAAwB,EAAC;IACtC,QAAQ,QAAQ,GAAG,CAAC,cAAc,IAAI;AACxC;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IACnC,MAAM,gBAAgB,IAAA,sPAAsB,EAAC,YAAY,EAAE;IAE3D,IAAI,CAAC,QAAQ,GAAG,CAAC,cAAc,EAAE;QAC/B,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YACb,OAAO;QACT,IACA;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;QAChD;IAEJ;IAEA,MAAM,SAAS,IAAA,0OAAU,EAAC;QACxB,OAAO,OAAO,QAAQ,GAAG,CAAC,YAAY,IAAI,QAAQ,GAAG,CAAC,YAAY,IAAI;QACtE,QACE;QACF,UAAU;QACV,iBAAiB;IACnB;IAEA,OAAO,OAAO,yBAAyB;AACzC"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/adarsh/Documents/carbonflow/frontend/app/api/chat/route.ts"],"sourcesContent":["export { POST } from \"../respiro/chat/route\"\n\n"],"names":[],"mappings":";AAAA"}}]
}